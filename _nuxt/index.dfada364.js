import{a6 as I,u as M,a7 as O,r as g,a8 as W,K as D,C as P,a5 as F,b as L}from"./entry.3be9cc3a.js";function T(e){return I()?(O(e),!0):!1}function h(e){return typeof e=="function"?e():M(e)}const S=typeof window<"u",w=()=>{},R=j();function j(){var e;return S&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function k(e,n){function o(...t){return new Promise((s,u)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(s).catch(u)})}return o}function B(e,n={}){let o,t,s=w;const u=l=>{clearTimeout(l),s(),s=w};return l=>{const f=h(e),c=h(n.maxWait);return o&&u(o),f<=0||c!==void 0&&c<=0?(t&&(u(t),t=null),Promise.resolve(l())):new Promise((a,v)=>{s=n.rejectOnCancel?v:a,c&&!t&&(t=setTimeout(()=>{o&&u(o),t=null,a(l())},c)),o=setTimeout(()=>{t&&u(t),t=null,a(l())},f)})}}function V(e,n=200,o={}){return k(B(n,o),e)}function N(e,n,o={}){const{immediate:t=!0}=o,s=g(!1);let u=null;function m(){u&&(clearTimeout(u),u=null)}function l(){s.value=!1,m()}function f(...c){m(),s.value=!0,u=setTimeout(()=>{s.value=!1,u=null,e(...c)},h(n))}return t&&(s.value=!0,S&&f()),T(l),{isPending:W(s),start:f,stop:l}}function b(e){var n;const o=h(e);return(n=o==null?void 0:o.$el)!=null?n:o}const x=S?window:void 0,X=S?window.navigator:void 0;function A(...e){let n,o,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,t,s]=e,n=x):[n,o,t,s]=e,!n)return w;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const u=[],m=()=>{u.forEach(a=>a()),u.length=0},l=(a,v,r,i)=>(a.addEventListener(v,r,i),()=>a.removeEventListener(v,r,i)),f=D(()=>[b(n),h(s)],([a,v])=>{m(),a&&u.push(...o.flatMap(r=>t.map(i=>l(a,r,i,v))))},{immediate:!0,flush:"post"}),c=()=>{f(),m()};return T(c),c}let C=!1;function $(e,n,o={}){const{window:t=x,ignore:s=[],capture:u=!0,detectIframe:m=!1}=o;if(!t)return;R&&!C&&(C=!0,Array.from(t.document.body.children).forEach(r=>r.addEventListener("click",w)));let l=!0;const f=r=>s.some(i=>{if(typeof i=="string")return Array.from(t.document.querySelectorAll(i)).some(p=>p===r.target||r.composedPath().includes(p));{const p=b(i);return p&&(r.target===p||r.composedPath().includes(p))}}),a=[A(t,"click",r=>{const i=b(e);if(!(!i||i===r.target||r.composedPath().includes(i))){if(r.detail===0&&(l=!f(r)),!l){l=!0;return}n(r)}},{passive:!0,capture:u}),A(t,"pointerdown",r=>{const i=b(e);i&&(l=!r.composedPath().includes(i)&&!f(r))},{passive:!0}),m&&A(t,"blur",r=>{var i;const p=b(e);((i=t.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!(p!=null&&p.contains(t.document.activeElement))&&n(r)})].filter(Boolean);return()=>a.forEach(r=>r())}function Y(){const e=g(!1);return F()&&L(()=>{e.value=!0}),e}function q(e){const n=Y();return P(()=>(n.value,!!e()))}function z(e={}){const{navigator:n=X,read:o=!1,source:t,copiedDuring:s=1500,legacy:u=!1}=e,m=["copy","cut"],l=q(()=>n&&"clipboard"in n),f=P(()=>l.value||u),c=g(""),a=g(!1),v=N(()=>a.value=!1,s);function r(){l.value?n.clipboard.readText().then(d=>{c.value=d}):c.value=_()}if(f.value&&o)for(const d of m)A(d,r);async function i(d=h(t)){f.value&&d!=null&&(l.value?await n.clipboard.writeText(d):p(d),c.value=d,a.value=!0,v.start())}function p(d){const y=document.createElement("textarea");y.value=d??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function _(){var d,y,E;return(E=(y=(d=document==null?void 0:document.getSelection)==null?void 0:d.call(document))==null?void 0:y.toString())!=null?E:""}return{isSupported:f,text:c,copied:a,copy:i}}function G({window:e=x}={}){if(!e)return{x:g(0),y:g(0)};const n=g(e.scrollX),o=g(e.scrollY);return A(e,"scroll",()=>{n.value=e.scrollX,o.value=e.scrollY},{capture:!1,passive:!0}),{x:n,y:o}}export{A as a,G as b,z as c,$ as o,V as u};
